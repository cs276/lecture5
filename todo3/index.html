<!DOCTYPE html>

<html>
    <head>
        <style>

            [v-cloak] {
                display: none;
            }

        </style>
        <title>todo3</title>
    </head>
    <body>
        <div id="app">
            <form v-on:submit.prevent="add">
                <input placeholder="TODO" type="text" v-model="todo">
                <input type="submit" value="Add">
            </form>
            <ul v-cloak>
                <li v-for="(todo, index) in filtered">
                    {{ todo }}
                    <button v-on:click="remove(index)">Remove</button>
                </li>
            </ul>
            <input placeholder="Filter" type="text" v-cloak v-show="todos.length" v-model="filter">
        </div>
        <script src="https://unpkg.com/vue@2.5.17/dist/vue.min.js"></script>
        <script>

            new Vue({
                el: '#app',
                data: {
                    filter: '',
                    todo: '',
                    todos: []
                },
                computed: {
                    filtered() {
                        return this.todos.filter(todo => todo.indexOf(this.filter) > -1);
                    }
                },
                methods: {
                    add() {
                        this.todos.push(this.todo);
                        this.todo = '';
                    },
                    remove(index) {
                        this.todos.splice(index, 1);
                    }
                }

            });

        </script>
    </body>
</html>
